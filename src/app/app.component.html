<img src="assets/nrs.png" id="logo-img">
<div id="container container-fluid">
  <div class="row">
    <div class="col-xs-12"></div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <sebm-google-map [latitude]="mapLat"
                       [longitude]="mapLon"
                       [zoom]="10">
        <sebm-google-map-marker *ngFor="let car of cars | carFilter:carFilterString"
                                [latitude]="car.lat"
                                [longitude]="car.lon"
                                [title]="car.carNumber"
                                [openInfoWindow]="true">
          <sebm-google-map-info-window>
            Car Number: {{car.carNumber}}<br>
            Speed: {{car.speed}}<br>
            Last Updated: {{car.createdAt}}
          </sebm-google-map-info-window>
        </sebm-google-map-marker>
      </sebm-google-map>
    </div>
  </div>
  &nbsp;
  <div class="row">
    <div class="col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
      <button class="btn btn-primary" [class.active]="isPolling" (click)="(isPolling) ? stopPolling() : startPolling()">
        Auto Update: {{isPolling ? 'On' : 'Off'}}
      </button>
      <button class="btn btn-primary" [class.active]="carFilterString === 'coursecars'" (click)="onlyCourseCars()">
        Course Cars Only
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
      <form>
        <div class="form-group has-feedback">
          <label for="car-filter" class="control-label">Filter</label>
          <input type="text" [(ngModel)]="carFilterString" id="car-filter" class="form-control hasclear"
                 name="carFilterString"
                 autocomplete="off">
          <span class="clearer glyphicon glyphicon-remove-circle form-control-feedback"
                *ngIf="carFilterString.length > 0" (click)="clearFilter()"></span>
        </div>
      </form>
      <div id="car-list" class="list-group">
        <a class="list-group-item"
           *ngFor="let car of cars | carFilter:carFilterString"
           [class.active]="isActive(car.carNumber)"
           (click)="clickFilter(car)">
          {{car.carNumber}}
        </a>
      </div>
    </div>
  </div>
</div>
